import{d as i,i as g,y as M,l as f,q as r,m as A,G as b,z as e,b as P,g as d,h as v,c as p}from"./q-BrAWZM5D.js";import{_ as c}from"./q-DoNi8vyY.js";import{A as C}from"./q-D5fsNSdl.js";import{B as S,a as L}from"./q-B48mQaCl.js";import{useBachecaData as D}from"./q-CL39kUYO.js";const V=()=>{const[t,l]=i();return t.value.archivio.slice(0,l.value)},I=Object.freeze(Object.defineProperty({__proto__:null,s_Y1gR0BT9Qjc:V},Symbol.toStringTag,{value:"Module"})),R=()=>{const[t,l,o]=i();l.value="",t.value="all",o.value="all"},z=Object.freeze(Object.defineProperty({__proto__:null,s_PVqEC5F8tDo:R},Symbol.toStringTag,{value:"Module"})),B=t=>{const[l]=i();return l.value=t.target.value},Q=Object.freeze(Object.defineProperty({__proto__:null,s_GTXkD2Ew9UU:B},Symbol.toStringTag,{value:"Module"})),F=()=>{const t=D(),l=g(""),o=g("all"),a=g("all"),s=M(C);f(r(()=>c(()=>Promise.resolve().then(()=>H),void 0),"s_09LL4C8KB4c",[s]));const u=A({isOpen:!1,selectedPost:null}),x=r(()=>c(()=>Promise.resolve().then(()=>q),void 0),"s_uA9yVYxXbFU",[u]),h=r(()=>c(()=>Promise.resolve().then(()=>ae),void 0),"s_EOBq1cn0VcM",[u]),y=b(r(()=>c(()=>Promise.resolve().then(()=>te),void 0),"s_jA2B5Uzv9bc",[t])),O=b(r(()=>c(()=>Promise.resolve().then(()=>K),void 0),"s_nkb6K3LIGoo",[t])),w=b(r(()=>c(()=>Promise.resolve().then(()=>ve),void 0),"s_jMGfrtQ7aPk",[o,t,l,a])),m=g(6),T=g();f(r(()=>c(()=>Promise.resolve().then(()=>_e),void 0),"s_QEPRNkYTbvQ",[o,l,m,a])),f(r(()=>c(()=>Promise.resolve().then(()=>N),void 0),"s_AiU6n0MmTH4",[T,m]));const _=b(r(()=>c(()=>Promise.resolve().then(()=>J),void 0),"s_0DdhLgt1n68",[w])),k=b(r(()=>c(()=>Promise.resolve().then(()=>I),void 0),"s_Y1gR0BT9Qjc",[_,m])),j=r(()=>c(()=>Promise.resolve().then(()=>ne),void 0),"s_qDSMH8XjUro",[l]),E=r(()=>c(()=>Promise.resolve().then(()=>ie),void 0),"s_5PZBhaHDDPI",[l]);return e("div",null,{class:"max-w-7xl mx-auto px-4 py-8 space-y-12"},[e("div",null,{class:"text-center space-y-4 mb-12"},[e("h1",null,{class:"text-4xl md:text-6xl font-black text-gray-900 dark:text-white uppercase tracking-tighter"},["Bacheca & ",e("span",null,{class:"text-red-600"},"Archivio",3,null)],3,null),e("p",null,{class:"text-gray-500 dark:text-gray-400 font-medium max-w-2xl mx-auto"},"Resta aggiornato sulle ultime novitÃ  del Dojo e consulta l'archivio storico delle nostre attivitÃ .",3,null)],3,null),e("div",null,{class:"bg-white dark:bg-gray-800 p-6 rounded-[2.5rem] border border-gray-100 dark:border-white/5 shadow-xl space-y-6"},[e("div",null,{class:"relative max-w-3xl mx-auto"},[e("input",null,{type:"text",placeholder:"Cerca negli avvisi...",value:d(n=>n.value,[l]),class:"w-full pl-12 pr-4 py-4 rounded-2xl bg-gray-50 dark:bg-white/5 border-2 border-transparent focus:border-red-500 outline-none transition-all text-lg",onInput$:r(()=>c(()=>Promise.resolve().then(()=>W),void 0),"s_WwQPxkmTvqk",[j])},null,3,null),e("span",null,{class:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-xl"},"ðŸ”",3,null),l.value&&e("button",null,{class:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-red-500",onClick$:E},"âœ•",3,"rL_0")],1,null),e("div",null,{class:"flex flex-wrap items-center justify-center gap-4"},[e("div",null,{class:"flex items-center gap-2"},[e("span",null,{class:"text-xs font-black uppercase tracking-widest text-gray-400"},"AttivitÃ :",3,null),e("select",null,{value:d(n=>n.value,[o]),class:"bg-gray-50 dark:bg-white/5 border-none rounded-xl px-4 py-2 text-sm font-bold focus:ring-2 focus:ring-red-500 outline-none",onChange$:r(()=>c(()=>Promise.resolve().then(()=>Q),void 0),"s_GTXkD2Ew9UU",[o])},[e("option",null,{value:"all"},"Tutte",3,null),y.value.filter(n=>n!=="all").map(n=>e("option",{value:n},null,n,1,n))],1,null)],1,null),e("div",null,{class:"flex items-center gap-2"},[e("span",null,{class:"text-xs font-black uppercase tracking-widest text-gray-400"},"Anno:",3,null),e("select",null,{value:d(n=>n.value,[a]),class:"bg-gray-50 dark:bg-white/5 border-none rounded-xl px-4 py-2 text-sm font-bold focus:ring-2 focus:ring-red-500 outline-none",onChange$:r(()=>c(()=>Promise.resolve().then(()=>re),void 0),"s_TyMeQ6XAbMw",[a])},[e("option",null,{value:"all"},"Tutti",3,null),O.value.filter(n=>n!=="all").map(n=>e("option",{value:n},null,n,1,n))],1,null)],1,null)],1,null)],1,null),e("div",null,{class:"space-y-20"},[_.value.actualNews.length>0&&e("section",null,{class:"space-y-8"},[e("div",null,{class:"flex items-center gap-4"},[e("span",null,{class:"text-3xl"},"ðŸ“Œ",3,null),e("h2",null,{class:"text-3xl font-black text-gray-900 dark:text-white uppercase tracking-tighter"},["Notizie ",e("span",null,{class:"text-red-600"},"Attuali",3,null)],3,null),e("div",null,{class:"h-1 flex-1 bg-gradient-to-r from-red-600/20 to-transparent rounded-full"},null,3,null),e("span",null,{class:"text-sm font-black text-gray-400 uppercase tracking-widest"},[d(n=>n.value.actualNews.length,[_])," Post"],3,null)],3,null),e("div",null,{class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8"},_.value.actualNews.map(n=>P(S,{post:n,onClick:x,viewMode:"grid",[v]:{onClick:v,viewMode:v}},3,n.id)),1,null)],1,"rL_1"),_.value.archivio.length>0&&e("section",null,{class:"space-y-8"},[e("div",null,{class:"flex items-center gap-4"},[e("span",null,{class:"text-3xl"},"ðŸ“œ",3,null),e("h2",null,{class:"text-3xl font-black text-gray-900 dark:text-white uppercase tracking-tighter"},["Archivio ",e("span",null,{class:"text-gray-400"},"Storico",3,null)],3,null),e("div",null,{class:"h-1 flex-1 bg-gradient-to-r from-gray-400/20 to-transparent rounded-full"},null,3,null),e("span",null,{class:"text-sm font-black text-gray-400 uppercase tracking-widest"},["Mostrati ",d(n=>n.value.length,[k])," di ",d(n=>n.value.archivio.length,[_])],3,null)],3,null),e("div",null,{class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 grayscale brightness-95 hover:grayscale-0 transition-all duration-700"},k.value.map(n=>P(S,{post:n,onClick:x,viewMode:"grid",[v]:{onClick:v,viewMode:v}},3,n.id)),1,null),m.value<_.value.archivio.length&&e("div",{ref:T},{class:"flex justify-center py-12"},e("div",null,{class:"animate-bounce text-gray-300"},[e("svg",null,{class:"w-8 h-8 mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e("path",null,{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 14l-7 7m0 0l-7-7m7 7V3"},null,3,null),3,null),e("p",null,{class:"text-[10px] font-black uppercase tracking-widest mt-2"},"Scorri per caricare altro",3,null)],3,null),3,"rL_2")],1,"rL_3"),(l.value||o.value!=="all"||a.value!=="all")&&_.value.actualNews.length===0&&_.value.archivio.length===0&&e("div",null,{class:"text-center py-32 bg-white dark:bg-gray-800 rounded-[3rem] shadow-xl border border-gray-100 dark:border-white/5 animate-in fade-in zoom-in duration-500"},[e("span",null,{class:"text-8xl block mb-6 animate-bounce"},"ðŸ”",3,null),e("h2",null,{class:"text-2xl font-black text-gray-900 dark:text-white uppercase tracking-tighter"},"Nessun Risultato Trovato",3,null),e("p",null,{class:"text-gray-500 dark:text-gray-400 mt-2 font-medium italic"},[d(n=>n.value&&`Nessuna corrispondenza per "${n.value}". `,[l]),"Prova a modificare i filtri o resettare la ricerca."],3,null),e("button",null,{class:"mt-8 px-10 py-4 bg-red-600 text-white font-black rounded-2xl shadow-xl shadow-red-500/30 hover:scale-105 active:scale-95 transition-all uppercase tracking-widest text-xs",onClick$:r(()=>c(()=>Promise.resolve().then(()=>z),void 0),"s_PVqEC5F8tDo",[o,l,a])},"Reset Tutti i Filtri",3,null)],3,"rL_4")],1,null),P(L,{get post(){return u.selectedPost},get isOpen(){return u.isOpen},onClose:h,[v]:{post:d(n=>n.selectedPost,[u]),isOpen:d(n=>n.isOpen,[u]),onClose:v}},3,"rL_5")],1,"rL_6")},he=Object.freeze(Object.defineProperty({__proto__:null,s_JSn9dHgQcEc:F},Symbol.toStringTag,{value:"Module"})),U=t=>{const[l]=i();l.selectedPost=t,l.isOpen=!0},q=Object.freeze(Object.defineProperty({__proto__:null,_hW:p,s_uA9yVYxXbFU:U},Symbol.toStringTag,{value:"Module"})),Y=({track:t,cleanup:l})=>{const[o,a]=i();if(t(()=>o.value),!o.value)return;const s=new IntersectionObserver(u=>{u[0].isIntersecting&&a.value<sections.value.archivio.length&&(a.value+=6)},{threshold:.1});s.observe(o.value),l(()=>s.disconnect())},N=Object.freeze(Object.defineProperty({__proto__:null,_hW:p,s_AiU6n0MmTH4:Y},Symbol.toStringTag,{value:"Module"})),X=()=>{const[t]=i();t.sectionTitle="Bacheca & Archivio",t.sectionIcon="ðŸ“Œ"},H=Object.freeze(Object.defineProperty({__proto__:null,_hW:p,s_09LL4C8KB4c:X},Symbol.toStringTag,{value:"Module"})),G=()=>{const[t]=i(),l=new Set(t.value.posts.map(o=>{const a=new Date(o.date);return isNaN(a.getTime())?null:a.getFullYear().toString()}).filter(o=>!!o));return["all",...Array.from(l).sort((o,a)=>a.localeCompare(o))]},K=Object.freeze(Object.defineProperty({__proto__:null,s_nkb6K3LIGoo:G},Symbol.toStringTag,{value:"Module"})),$=t=>{const[l]=i();return l(t.target.value)},W=Object.freeze(Object.defineProperty({__proto__:null,s_WwQPxkmTvqk:$},Symbol.toStringTag,{value:"Module"})),Z=()=>{const[t]=i(),l=new Date,o=[],a=[];return t.value.forEach(s=>{s.expiration_date&&new Date(s.expiration_date)<l?a.push(s):o.push(s)}),{actualNews:o,archivio:a}},J=Object.freeze(Object.defineProperty({__proto__:null,s_0DdhLgt1n68:Z},Symbol.toStringTag,{value:"Module"})),ee=()=>{const[t]=i(),l=new Set(t.value.posts.map(o=>o.activity).filter(o=>!!o));return["all",...Array.from(l)]},te=Object.freeze(Object.defineProperty({__proto__:null,s_jA2B5Uzv9bc:ee},Symbol.toStringTag,{value:"Module"})),le=t=>{const[l]=i();l.value=t},ne=Object.freeze(Object.defineProperty({__proto__:null,_hW:p,s_qDSMH8XjUro:le},Symbol.toStringTag,{value:"Module"})),oe=()=>{const[t]=i();t.isOpen=!1,setTimeout(()=>{t.selectedPost=null},300)},ae=Object.freeze(Object.defineProperty({__proto__:null,_hW:p,s_EOBq1cn0VcM:oe},Symbol.toStringTag,{value:"Module"})),se=t=>{const[l]=i();return l.value=t.target.value},re=Object.freeze(Object.defineProperty({__proto__:null,s_TyMeQ6XAbMw:se},Symbol.toStringTag,{value:"Module"})),ce=()=>{const[t]=i();t.value=""},ie=Object.freeze(Object.defineProperty({__proto__:null,_hW:p,s_5PZBhaHDDPI:ce},Symbol.toStringTag,{value:"Module"})),ue=({track:t})=>{const[l,o,a,s]=i();t(()=>o.value),t(()=>l.value),t(()=>s.value),a.value=6},_e=Object.freeze(Object.defineProperty({__proto__:null,_hW:p,s_QEPRNkYTbvQ:ue},Symbol.toStringTag,{value:"Module"})),de=()=>{const[t,l,o,a]=i();return l.value.posts.filter(s=>{const u=o.value===""||s.title.toLowerCase().includes(o.value.toLowerCase())||s.content.toLowerCase().includes(o.value.toLowerCase()),x=t.value==="all"||s.activity===t.value,h=new Date(s.date).getFullYear().toString(),y=a.value==="all"||h===a.value;return u&&x&&y})},ve=Object.freeze(Object.defineProperty({__proto__:null,s_jMGfrtQ7aPk:de},Symbol.toStringTag,{value:"Module"}));export{p as _hW,he as i,X as s_09LL4C8KB4c,Z as s_0DdhLgt1n68,ce as s_5PZBhaHDDPI,Y as s_AiU6n0MmTH4,oe as s_EOBq1cn0VcM,B as s_GTXkD2Ew9UU,F as s_JSn9dHgQcEc,R as s_PVqEC5F8tDo,ue as s_QEPRNkYTbvQ,se as s_TyMeQ6XAbMw,$ as s_WwQPxkmTvqk,V as s_Y1gR0BT9Qjc,ee as s_jA2B5Uzv9bc,de as s_jMGfrtQ7aPk,G as s_nkb6K3LIGoo,le as s_qDSMH8XjUro,U as s_uA9yVYxXbFU};
