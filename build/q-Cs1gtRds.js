import{d as u,i as h,z as i,q as c,g as _,c as g}from"./q-BrAWZM5D.js";import{_ as s}from"./q-DoNi8vyY.js";const b=()=>{const[e]=u();e.onOpenModal(e.technique)},f=Object.freeze(Object.defineProperty({__proto__:null,_hW:g,s_SLfn7JJqwxc:b},Symbol.toStringTag,{value:"Module"})),p=e=>{const[r]=u();if(!e)return;const t=e.startsWith("http")?e:`/media/audio/${e}`,l=new Audio(t);l.volume=1,l.onplay=()=>{r.value=!0},l.onended=()=>{r.value=!1},l.onerror=()=>{console.error("Audio playback failed"),r.value=!1},l.play().catch(a=>{console.error("Audio playback error:",a),r.value=!1})},m=Object.freeze(Object.defineProperty({__proto__:null,_hW:g,s_7cyPnSKo9Ro:p},Symbol.toStringTag,{value:"Module"})),v=e=>{const[r,t]=u();e.stopPropagation(),r(t.technique.audio_file)},x=Object.freeze(Object.defineProperty({__proto__:null,s_2mrXck8J408:v},Symbol.toStringTag,{value:"Module"})),y=e=>{const r=h(!1),l=(o=>{const n=o.toLowerCase();return n.includes("ikkyo")?"bg-[#ffd700] text-gray-900":n.includes("nikyo")?"bg-[#ff8c00] text-white":n.includes("sankyo")?"bg-[#4ade80] text-white":n.includes("yonkyo")?"bg-[#3b82f6] text-white":n.includes("gokyo")?"bg-[#000000] text-white":n.includes("atemi")?"bg-red-700 text-white":"bg-[#2d2d2d] text-white"})(e.technique.gruppo),a=c(()=>s(()=>Promise.resolve().then(()=>m),void 0),"s_7cyPnSKo9Ro",[r]),d=c(()=>s(()=>Promise.resolve().then(()=>f),void 0),"s_SLfn7JJqwxc",[e]);return i("div",{class:`bg-white dark:bg-gray-900 rounded-3xl overflow-hidden shadow-xl border border-gray-100 dark:border-gray-800 hover:shadow-2xl hover:scale-[1.03] transition-all duration-500 cursor-pointer group flex flex-col ${e.isTarget?"animate-term-highlight ring-4 ring-red-500/20":""}`},{onClick$:d},[i("div",null,{class:"flex-1 aspect-square bg-white relative overflow-hidden flex items-center justify-center"},[i("img",null,{src:_(o=>{var n;return o.technique.image_url||((n=o.technique.image)!=null&&n.startsWith("media/")?"/"+o.technique.image:`/media/${o.technique.image}`)},[e]),alt:_(o=>o.technique.nome,[e]),class:"w-full h-full object-contain p-4 group-hover:scale-110 transition-transform duration-700 mix-blend-multiply",onError$:c(()=>s(()=>Promise.resolve().then(()=>w),void 0),"s_kMmV3D2npHE",[e])},null,3,null),e.technique.has_audio&&e.technique.audio_file&&i("button",{class:`absolute top-4 left-4 p-2 rounded-xl transition-all shadow-lg backdrop-blur-md border ${r.value?"bg-red-600 text-white border-red-500":"bg-white/90 text-gray-700 border-white/20 hover:bg-red-600 hover:text-white"}`},{onClick$:c(()=>s(()=>Promise.resolve().then(()=>x),void 0),"s_2mrXck8J408",[a,e])},i("svg",null,{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor"},i("path",null,{d:"M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"},null,3,null),3,null),3,"00_0"),e.technique.video_youtube&&i("div",null,{class:"absolute top-4 right-4 bg-red-600 text-[8px] font-black text-white px-2 py-1 rounded-lg tracking-tighter shadow-lg opacity-80 group-hover:opacity-100 transition-opacity"},"YT",3,"00_1")],1,null),i("div",{class:`py-3 px-2 text-center transition-colors duration-500 ${l}`},null,i("h3",null,{class:"font-black text-[10px] md:text-xs uppercase tracking-tight leading-none truncate"},_(o=>o.technique.nome,[e]),3,null),3,null)],1,"00_2")},S=Object.freeze(Object.defineProperty({__proto__:null,s_UHg48jkeBFM:y},Symbol.toStringTag,{value:"Module"})),k=e=>{const[r]=u(),t=e.target,l="/media/kano_non_sa.webp",d=`/media/${r.technique.nome.toLowerCase().replace(/ /g,"-").replace(/'/g,"")}.webp`,o=t.src,n=parseInt(t.dataset.attempts||"0");n===0?(t.dataset.attempts="1",t.src=d):n===1?(t.dataset.attempts="2",o.indexOf("kano_non_sa.webp")===-1&&(t.src=l)):t.onerror=null},w=Object.freeze(Object.defineProperty({__proto__:null,s_kMmV3D2npHE:k},Symbol.toStringTag,{value:"Module"}));export{g as _hW,v as s_2mrXck8J408,p as s_7cyPnSKo9Ro,b as s_SLfn7JJqwxc,y as s_UHg48jkeBFM,k as s_kMmV3D2npHE,S as t};
