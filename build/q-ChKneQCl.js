import{d as u,i as p,l as k,q as c,z as e,g as w,D as v,c as h}from"./q-BrAWZM5D.js";import{_ as d}from"./q-DoNi8vyY.js";import{c as P,g as j}from"./q-Da0PxmWS.js";import{u as C}from"./q-Dffzb0DX.js";import{p as T}from"./q-C_Ggo61V.js";const E=({track:l})=>{const[n]=u();l(()=>n.isOpen);const a=o=>{o.key==="Escape"&&n.isOpen&&n.onClose()};return window.addEventListener("keydown",a),()=>window.removeEventListener("keydown",a)},R=Object.freeze(Object.defineProperty({__proto__:null,_hW:h,s_9wQB6eNOdBY:E},Symbol.toStringTag,{value:"Module"})),S=({track:l})=>{const[n,a,o,s,m,i]=u();l(()=>o.isOpen),o.isOpen?setTimeout(()=>{var _;(_=a.value)==null||_.focus()},100):(m.value="",s.value=[],n.value=null,i.value="all")},I=Object.freeze(Object.defineProperty({__proto__:null,_hW:h,s_rQQ8eg0erkA:S},Symbol.toStringTag,{value:"Module"})),$=l=>{const n=C(),a=p(""),o=p([]),s=p(!1),m=p(null),i=p("all"),_=p(null),b=p();k(c(()=>d(()=>Promise.resolve().then(()=>U),void 0),"s_z76jPCxbdu4",[s,o,a,_])),k(c(()=>d(()=>Promise.resolve().then(()=>I),void 0),"s_rQQ8eg0erkA",[m,b,l,o,a,i])),k(c(()=>d(()=>Promise.resolve().then(()=>R),void 0),"s_9wQB6eNOdBY",[l]));const r=c(()=>d(()=>Promise.resolve().then(()=>Y),void 0),"s_4DrX2PZ6vZ0"),g=c(()=>d(()=>Promise.resolve().then(()=>F),void 0),"s_sUVsPRcNjM0",[n,l]),f=i.value==="all"?o.value:o.value.filter(t=>t._collection===i.value);return l.isOpen?e("div",{onClick$:l.onClose},{class:"fixed inset-0 z-[100] flex items-center justify-center p-0 md:p-8 transition-all duration-500"},[e("div",null,{class:"absolute inset-0 bg-slate-950/80 backdrop-blur-2xl animate-in fade-in duration-500"},null,3,null),e("div",null,{class:"relative w-full max-w-4xl h-full md:h-auto max-h-screen md:max-h-[90vh] bg-white/95 dark:bg-slate-900/95 backdrop-blur-3xl md:rounded-[2.5rem] shadow-2xl border-x-0 md:border border-white/10 flex flex-col overflow-hidden animate-in fade-in md:zoom-in md:slide-in-from-bottom-12 duration-500",onClick$:c(()=>d(()=>import("./q-BLQa-lsH.js"),[]),"s_n09sZMGZ2Lk")},[e("div",null,{class:"p-8 md:p-10 shrink-0 relative bg-gradient-to-b from-red-500/5 to-transparent"},[e("div",null,{class:"flex items-center gap-4 md:gap-6 mb-6 md:mb-8"},[e("div",null,{class:"hidden md:flex w-14 h-14 bg-red-600 rounded-2xl items-center justify-center text-3xl shadow-lg shadow-red-500/30"},"ðŸ”",3,null),e("div",null,{class:"flex-1"},[e("h2",null,{class:"text-2xl md:text-3xl font-black text-gray-900 dark:text-white uppercase tracking-tighter leading-none"},["Ricerca ",e("span",null,{class:"text-red-600 md:inline"},"Globale",3,null)],3,null),e("p",null,{class:"hidden md:block text-[10px] font-black uppercase tracking-[0.3em] text-gray-400 mt-2"},"Esplora l'ecosistema JudoOK",3,null)],3,null),e("button",{onClick$:l.onClose},{class:"w-12 h-12 flex items-center justify-center bg-gray-100 dark:bg-white/5 hover:bg-red-500/10 dark:hover:bg-red-500/10 rounded-full text-gray-400 hover:text-red-500 transition-all active:scale-90"},e("svg",null,{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e("path",null,{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":3,d:"M6 18L18 6M6 6l12 12"},null,3,null),3,null),2,null)],1,null),e("div",null,{class:"relative group"},[e("input",{ref:b},{type:"text",placeholder:"Cerca termini, tecniche, storie...",value:w(t=>t.value,[a]),class:"w-full pl-8 pr-16 py-5 rounded-[1.5rem] bg-gray-50/50 dark:bg-white/5 border-2 border-transparent focus:border-red-500/50 focus:bg-white dark:focus:bg-slate-800 outline-none transition-all text-xl font-medium text-gray-900 dark:text-white placeholder-gray-400 shadow-inner",autoFocus:!0,onInput$:c(()=>d(()=>Promise.resolve().then(()=>A),void 0),"s_IkPGwCZ0nXs",[a])},null,3,null),e("div",null,{class:"absolute right-6 top-1/2 -translate-y-1/2 flex items-center gap-3"},[s.value&&e("div",null,{class:"animate-spin rounded-full h-5 w-5 border-2 border-red-600 border-t-transparent"},null,3,"Jp_0"),e("span",null,{class:"text-2xl opacity-30 group-focus-within:opacity-100 transition-opacity"},"âœ¨",3,null)],1,null)],1,null),a.value.length>=2&&o.value.length>0&&e("div",null,{class:"mt-8 flex flex-wrap gap-2 animate-in fade-in slide-in-from-top-4 duration-500 delay-150"},[e("button",{class:`px-5 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${i.value==="all"?"bg-red-600 text-white shadow-lg shadow-red-500/30":"bg-gray-100 dark:bg-white/5 text-gray-500 hover:bg-gray-200 dark:hover:bg-white/10"}`},{onClick$:c(()=>d(()=>Promise.resolve().then(()=>z),void 0),"s_dX2T069n1Wo",[i])},["ðŸŒ Tutti (",w(t=>t.value.length,[o]),")"],3,null),P.filter(t=>o.value.some(x=>x._collection===t.name)).map(t=>{const x=o.value.filter(O=>O._collection===t.name).length,y=i.value===t.name;return e("button",{class:`px-5 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all flex items-center gap-2 ${y?"bg-blue-600 text-white shadow-lg shadow-blue-500/30":"bg-gray-100 dark:bg-white/5 text-gray-500 hover:bg-gray-200 dark:hover:bg-white/10"}`,onClick$:c(()=>d(()=>Promise.resolve().then(()=>J),void 0),"s_5otCcFDXKYg",[t,i])},null,[e("span",null,null,v(t,"icon"),1,null),e("span",null,null,v(t,"label"),1,null),e("span",null,{class:"opacity-50"},["(",x,")"],1,null)],0,t.name)})],1,"Jp_1")],1,null),e("div",null,{class:"flex-1 overflow-y-auto p-8 md:p-10 space-y-6 min-h-[300px]"},[a.value.length<2&&e("div",null,{class:"h-full flex flex-col items-center justify-center opacity-40 py-20"},[e("div",null,{class:"text-[120px] mb-8 animate-float"},"ðŸ”Ž",3,null),e("h3",null,{class:"text-xl font-black uppercase tracking-[0.4em] text-gray-900 dark:text-white"},"Inizia a Digitare",3,null),e("p",null,{class:"text-sm font-medium text-gray-500 mt-4 max-w-xs text-center leading-relaxed"},"Esplora il database completo di JudoOK in tempo reale",3,null)],3,"Jp_2"),a.value.length>=2&&f.length===0&&!s.value&&e("div",null,{class:"text-center py-12 max-w-md mx-auto"},[e("div",null,{class:"mb-10 cursor-pointer group relative inline-block",onClick$:c(()=>d(()=>Promise.resolve().then(()=>D),void 0),"s_lcylcPYtd38",[a])},e("div",null,{class:"relative w-56 h-auto transition-all duration-700 group-hover:scale-110"},[e("img",null,{src:"/media/kano_non_sa.webp",alt:"Empty State",class:"w-full h-auto drop-shadow-2xl rounded-[2rem] grayscale contrast-125 opacity-40 group-hover:opacity-0 transition-opacity duration-500"},null,3,null),e("img",null,{src:"/media/kano_via.webp",alt:"Google Search",class:"absolute inset-0 w-full h-auto drop-shadow-2xl rounded-[2rem] opacity-0 scale-90 group-hover:opacity-100 group-hover:scale-100 transition-all duration-500"},null,3,null),e("div",null,{class:"absolute -bottom-6 left-1/2 -translate-x-1/2 w-full opacity-0 group-hover:opacity-100 translate-y-4 group-hover:translate-y-0 transition-all duration-500"},e("span",null,{class:"px-5 py-2 bg-red-600 text-white text-[10px] font-black uppercase tracking-widest rounded-full shadow-2xl shadow-red-500/40"},"Cerca su Google âœ¨",3,null),3,null)],3,null),3,null),e("p",null,{class:"text-xl font-black text-gray-900 dark:text-white uppercase tracking-tight"},"Nessun match locale",3,null),e("p",null,{class:"text-sm text-gray-500 dark:text-ice-gray mt-4 leading-relaxed font-medium"},['Non abbiamo trovato corrispondenze per "',w(t=>t.value,[a]),`" all'interno del portale.`],3,null)],3,"Jp_3"),e("div",null,{class:"grid grid-cols-1 gap-4"},f.map(t=>e("div",null,{class:"surface-elevated group"},e("div",{onClick$:c(()=>d(()=>Promise.resolve().then(()=>G),void 0),"s_YSCuwpvf4O4",[g,t])},{class:"p-6 cursor-pointer overflow-hidden relative"},[e("div",null,{class:"absolute top-0 right-0 w-32 h-32 bg-red-500/5 rounded-full -mr-16 -mt-16 group-hover:scale-150 transition-transform duration-700"},null,3,null),e("div",null,{class:"flex items-start justify-between gap-4 relative z-10"},[e("div",null,{class:"flex-1"},[e("div",null,{class:"flex items-center gap-3 mb-4"},[e("span",null,{class:"px-3 py-1 bg-red-500/10 text-red-600 dark:text-red-400 rounded-full text-[9px] font-black uppercase tracking-widest border border-red-500/10 flex items-center gap-2"},[e("span",null,null,[v(t,"_collectionIcon")," ",v(t,"_collectionLabel")],1,null),t._collection==="tecniche"&&e("span",null,{class:"flex items-center gap-1 opacity-60"},[(t.audio||t.audio_file)&&e("span",null,null,"ðŸ”Š",3,"Jp_4"),(t.video_link||t.video_youtube)&&e("span",null,null,"ðŸŽ¥",3,"Jp_5")],1,"Jp_6")],1,null),t.kanji&&e("span",null,{class:"text-red-500/40 font-serif text-lg leading-none"},v(t,"kanji"),1,"Jp_7")],1,null),e("h3",null,{class:"text-2xl font-black text-gray-900 dark:text-white uppercase tracking-tight leading-tight group-hover:text-red-600 transition-colors"},r(t),1,null),t.contenuto&&e("div",{dangerouslySetInnerHTML:t.contenuto.replace(/<[^>]*>?/gm," ")},{class:"mt-4 text-sm text-gray-500 dark:text-ice-gray line-clamp-2 leading-relaxed"},null,3,"Jp_8")],1,null),e("div",null,{class:"w-12 h-12 bg-gray-50 dark:bg-white/5 rounded-xl flex items-center justify-center text-red-500 group-hover:bg-red-600 group-hover:text-white transition-all shadow-sm"},e("svg",null,{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e("path",null,{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":3,d:"M14 5l7 7m0 0l-7 7m7-7H3"},null,3,null),3,null),3,null)],1,null)],0,null),1,`${t._collection}-${t.id}`)),1,null)],1,null),e("div",null,{class:"hidden md:block p-6 border-t border-gray-100 dark:border-white/5 bg-gray-50/50 dark:bg-white/5 shrink-0"},e("div",null,{class:"max-w-4xl mx-auto flex items-center justify-between"},[e("div",null,{class:"flex items-center gap-8"},[e("div",null,{class:"flex items-center gap-2"},[e("kbd",null,{class:"bg-gray-200 dark:bg-white/10 px-2 py-1 rounded-md text-[9px] font-black"},"ESC",3,null),e("span",null,{class:"text-[9px] font-black uppercase tracking-[0.2em] text-gray-400"},"Chiudi",3,null)],3,null),e("div",null,{class:"flex items-center gap-2"},[e("kbd",null,{class:"bg-gray-200 dark:bg-white/10 px-2 py-1 rounded-md text-[9px] font-black"},"ENTER",3,null),e("span",null,{class:"text-[9px] font-black uppercase tracking-[0.2em] text-gray-400"},"Seleziona",3,null)],3,null)],3,null),e("div",null,{class:"text-[10px] font-black uppercase tracking-[0.3em] text-red-600/50"},"Judook Intelligence",3,null)],3,null),3,null)],1,null)],0,"Jp_9"):null},le=Object.freeze(Object.defineProperty({__proto__:null,s_4zQEiERWdVA:$},Symbol.toStringTag,{value:"Module"})),M=()=>{const[l]=u();return l.value="all"},z=Object.freeze(Object.defineProperty({__proto__:null,s_dX2T069n1Wo:M},Symbol.toStringTag,{value:"Module"})),V=l=>{const[n]=u();return n.value=l.target.value},A=Object.freeze(Object.defineProperty({__proto__:null,s_IkPGwCZ0nXs:V},Symbol.toStringTag,{value:"Module"})),L=()=>{const[l]=u();window.open(`https://www.google.com/search?q=${encodeURIComponent(l.value+" judo")}`,"_blank")},D=Object.freeze(Object.defineProperty({__proto__:null,s_lcylcPYtd38:L},Symbol.toStringTag,{value:"Module"})),te=l=>{const[n]=u();n.value=n.value===l?null:l},Q=()=>{const[l,n]=u();return n.value=l.name},J=Object.freeze(Object.defineProperty({__proto__:null,s_5otCcFDXKYg:Q},Symbol.toStringTag,{value:"Module"})),N=l=>l.domanda?l.domanda.substring(0,60)+"...":l.titolo?l.titolo:"Risultato",Y=Object.freeze(Object.defineProperty({__proto__:null,_hW:h,s_4DrX2PZ6vZ0:N},Symbol.toStringTag,{value:"Module"})),X=l=>{const[n,a]=u(),s={dizionario:`/dizionario?search=${encodeURIComponent(l.titolo||"")}&id=${l.id}`,tecniche:`/tecniche?search=${encodeURIComponent(l.titolo||"")}&id=${l.id}`,domande_quiz:"/quiz",storia:`/storia?search=${encodeURIComponent(l.titolo||"")}&id=${l.id}`,kata:`/kata?search=${encodeURIComponent(l.titolo||"")}&id=${l.id}`,fijlkam:`/fijlkam?id=${l.id}`,bacheca:`/bacheca?search=${encodeURIComponent(l.titolo||"")}&id=${l.id}`,galleria:`/gallery?search=${encodeURIComponent(l.titolo||"")}&id=${l.id}`}[l._collection]||"/";a.onClose(),n(s)},F=Object.freeze(Object.defineProperty({__proto__:null,_hW:h,s_sUVsPRcNjM0:X},Symbol.toStringTag,{value:"Module"})),Z=({track:l})=>{const[n,a,o,s]=u();if(l(()=>o.value),s.value&&clearTimeout(s.value),o.value.length<2){a.value=[];return}s.value=window.setTimeout(async()=>{n.value=!0;const m=[],i=j(o.value);try{const _=P.map(async r=>{try{const g=r.fields.map(t=>`(${i.map(y=>`${t} ~ "${y}"`).join(" || ")})`).join(" || ");return(await T.collection(r.name).getList(1,10,{filter:g,requestKey:`search-${r.name}`})).items.map(t=>({...t,_collection:r.name,_collectionLabel:r.label,_collectionIcon:r.icon,_collectionColor:r.color}))}catch(g){return g.isAbort?[]:(console.error(`Error searching in ${r.name}:`,g),[])}});(await Promise.all(_)).forEach(r=>m.push(...r)),a.value=m}catch(_){console.error("Search error:",_)}finally{n.value=!1}},300)},U=Object.freeze(Object.defineProperty({__proto__:null,_hW:h,s_z76jPCxbdu4:Z},Symbol.toStringTag,{value:"Module"})),B=()=>{const[l,n]=u();return l(n)},G=Object.freeze(Object.defineProperty({__proto__:null,s_YSCuwpvf4O4:B},Symbol.toStringTag,{value:"Module"}));export{h as _hW,le as s,N as s_4DrX2PZ6vZ0,$ as s_4zQEiERWdVA,Q as s_5otCcFDXKYg,E as s_9wQB6eNOdBY,V as s_IkPGwCZ0nXs,B as s_YSCuwpvf4O4,M as s_dX2T069n1Wo,L as s_lcylcPYtd38,S as s_rQQ8eg0erkA,X as s_sUVsPRcNjM0,te as s_y0Q9CRJ0TYE,Z as s_z76jPCxbdu4};
